Disclaimer: This library is not battle-tested. Use at your own risk.

The Crypto library implements various symmetric and public-key cryptographic algorithms.
The core algorithms are implemented in C and is based on the code from "Implementing SSL / TLS Using Cryptography and PKI" by Joshua Davies.
(See: http://as.wiley.com/WileyCDA/WileyTitle/productCd-0470920416.html)

Building the library
====================

Export the environment variable `SLOGAN_ROOT` to point to the Slogan parent directory.
Build the shared library by running the `build` script in this folder.

Loading the crypto-library from Slogan
===========================================

```
load "$SLOGAN_ROOT/lib/crypto/crypto";

define handle = crypto_initialize();

// Do crypto-stuff here
// and finally, release the handle to the C library:

crypto_release(handle);
```

Symmetric-key algorithms
========================

DES
---

```
load "$SLOGAN_ROOT/lib/crypto/des";

define key = u8array_to_string(random_byte_array(8));
define iv = u8array_to_string(random_byte_array(8));
define enc = des_encrypt(handle, key, iv, string_to_u8array("abcdefgh"));
define dec = des_decrypt(handle, key, iv, enc);
u8array_to_string(dec); // => "abcdefgh"

// A 24 byte key will perform 3DES encryption:
key = u8array_to_string(random_byte_array(24));
define enc = des_encrypt(handle, key, iv, string_to_u8array("abcdefgh"));
define dec = des_decrypt(handle, key, iv, enc);
u8array_to_string(dec); // => "abcdefgh"
```


AES
---

```
load "$SLOGAN_ROOT/lib/crypto/aes";

define key = u8array_to_string(random_byte_array(24));
define iv = u8array_to_string(random_byte_array(8));
define enc = aes_encrypt(handle, key, iv, string_to_u8array("abcdefghabcdefgh"));
define dec = aes_decrypt(handle, key, iv, enc);
u8array_to_string(dec); // => "abcdefghabcdefgh"

// A 32 byte key will perform AES-256 encryption:
key = u8array_to_string(random_byte_array(32));
define enc = aes_encrypt(handle, key, iv, string_to_u8array("abcdefghabcdefgh"));
define dec = aes_decrypt(handle, key, iv, enc);
u8array_to_string(dec); // => "abcdefghabcdefgh"
```
