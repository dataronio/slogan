var guess_my_number = function (small, big) {
    let do_guess = function () arithmetic_shift (small + big, -1)
    function (message) {
        println (small, ", ", big);
        case message {
            !guess: do_guess ()
            !bigger: { small = do_guess () + 1; do_guess () }
            !smaller: { big = do_guess () - 1; do_guess () }
            else: error ("invalid message.", message)
        }
    }
};
    